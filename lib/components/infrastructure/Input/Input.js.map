{"version":3,"sources":["../../../../src/components/infrastructure/Input/Input.js"],"names":["cx","bind","Input","props","handleInputNumberFocus","setState","inputNumberHover","onFocus","handleInputNumberBlur","onBlur","state","componentDidMount","inputNumber","document","querySelector","addEventListener","componentWillUnmount","render","value","onChange","placeholder","maxLength","defaultValue","readonly","disabled","theme","style","inputStyle","labelStyle","label","type","info","rows","cols","textareaStyle","uniformProps","readOnly","textareacx","textarea_filed","textarea_label","textarea_content","textFiled","textFiled_filed","textFiled_label","textFiled_content","number","number_filed","pinv_controls","inputNumber_box","inputNumber_up","inputNumber_down","defaultProps","prefix"],"mappings":"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","file":"Input.js","sourcesContent":["import { h, Component } from 'preact'\nimport styles from './Input.less'\nimport classNames from 'classnames/bind'\nlet cx = classNames.bind(styles)\n\nexport default class Input extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tinputNumberHover: false\n\t\t}\n\t\tthis.handleInputNumberFocus = this.handleInputNumberFocus.bind(this)\n\t\tthis.handleInputNumberBlur = this.handleInputNumberBlur.bind(this)\n\t}\n\tstatic defaultProps = {\n\t\tdisabled: false,\n\t\tprefix: 'pinv',\n\t\ttheme: 'minoru',\n\t\ttype: 'text',\n\t\trows: '5',\n\t\tonFocus: () => null,\n\t\tonBlur: () => null\n\t}\n\thandleInputNumberFocus = () => {\n\t\tthis.setState({\n\t\t\tinputNumberHover: true\n\t\t})\n\t\tthis.props.onFocus()\n\t}\n\thandleInputNumberBlur = () => {\n\t\tthis.setState({\n\t\t\tinputNumberHover: false\n\t\t})\n\t\tthis.props.onBlur()\n\t}\n\tcomponentDidMount() {\n\t\t// preact 对inputNumber的focus,blur事件不支持，目前采用事件监听的方式来解决\n\t\tlet inputNumber = document.querySelector('#inputNumber')\n\t\tinputNumber.addEventListener('focus', this.handleInputNumberFocus)\n\t\tinputNumber.addEventListener('blur', this.handleInputNumberBlur)\n\t}\n\tcomponentWillUnmount() {\n\t\t// let inputNumber = document.querySelector('#inputNumber')\n\t\t// inputNumber.removeEventListener('focus',this.handleInputNumberFocus)\n\t\t// inputNumber.removeEventListener('blur',this.handleInputNumberBlur)\n\t}\n\trender() {\n\t\tlet { value, onChange, onBlur, onFocus, placeholder,\n\t\t\tmaxLength, defaultValue, readonly, disabled, theme,\n\t\t\tstyle, inputStyle, labelStyle, label, type, info, rows, cols, textareaStyle } = this.props\n\t\t// uniform props\n\t\tlet uniformProps = {\n\t\t\tvalue,\n\t\t\tonChange,\n\t\t\tonBlur,\n\t\t\tonFocus,\n\t\t\tplaceholder,\n\t\t\tmaxLength,\n\t\t\tdefaultValue,\n\t\t\tstyle,\n\t\t\treadOnly: disabled || readonly\n\t\t}\n\t\t// 过滤其他不符合要求的theme\n\t\ttheme = theme === 'isao' ? theme : 'minoru'\n\t\ttype = type !== 'textarea' ? type : 'textarea'\n\n\t\t// 根据不同theme，设置textarea不同style\n\t\tlet textareacx = cx('pinv_textarea_box'),\n\t\t\ttextarea_filed = cx('pinv_textarea', `pinv_textarea--${theme}`,\n\t\t\t\t{ 'textarea__disabled': disabled || readonly }),\n\t\t\ttextarea_label = cx('textarea__label', `textarea__label--${theme}`),\n\t\t\ttextarea_content = cx('textarea__content', `textarea__content--${theme}`)\n\n\t\t// 根据不同theme，设置input不同的style\n\t\tlet textFiled = cx('input', `input--${theme}`, ),\n\t\t\ttextFiled_filed = cx('input__field',\n\t\t\t\t`input__field--${theme}`,\n\t\t\t\t{ 'input__disabled': disabled || readonly }),\n\t\t\ttextFiled_label = cx('input__label', `input__label--${theme}`),\n\t\t\ttextFiled_content = cx('input__label_content', `input__label-content--${theme}`)\n\n\t\t// 根据不同theme，设置inputNumber不同的style\n\t\tlet number = cx('input', `input--${theme}`, 'inputNumber'),\n\t\t\tnumber_filed = cx('input__field',\n\t\t\t\t`input__field--${theme}`,\n\t\t\t\t{ 'input__disabled': disabled || readonly })\n\t\tswitch (type) {\n\t\t\tcase 'textarea':\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\tclassName={styles.pinv_controls}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className={textareacx}>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tclass={textarea_filed}\n\t\t\t\t\t\t\t\t{...uniformProps}\n\t\t\t\t\t\t\t\trows={rows}\n\t\t\t\t\t\t\t\tcols={cols}\n\t\t\t\t\t\t\t\tstyle={textareaStyle}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label style={labelStyle} class={textarea_label} data-content={label}>\n\t\t\t\t\t\t\t\t<span class={textarea_content}>{label}</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{info}\n\t\t\t\t\t</div>)\n\t\t\tcase 'number':\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\tclass={styles.pinv_controls}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class={number}>\n\t\t\t\t\t\t\t<div class={styles.inputNumber}>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\t\t\tclass={number_filed}\n\t\t\t\t\t\t\t\t\t{...uniformProps}\n\t\t\t\t\t\t\t\t\tstep=\"1\"\n\t\t\t\t\t\t\t\t\tid=\"inputNumber\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{this.state.inputNumberHover && <div class={styles.inputNumber_box}>\n\t\t\t\t\t\t\t\t\t<button class={styles.inputNumber_up}>+</button>\n\t\t\t\t\t\t\t\t\t<button class={styles.inputNumber_down}>-</button>\n\t\t\t\t\t\t\t\t</div>}\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<label style={labelStyle} class={textFiled_label} data-content={label}>\n\t\t\t\t\t\t\t\t<span class={textFiled_content}>{label}</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\tclass={styles.pinv_controls}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class={textFiled}>\n\t\t\t\t\t\t\t<input class={textFiled_filed}\n\t\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\t\tstyle={inputStyle}\n\t\t\t\t\t\t\t\t{...uniformProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label style={labelStyle} class={textFiled_label} data-content={label}>\n\t\t\t\t\t\t\t\t<span class={textFiled_content}>{label}</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{info}\n\t\t\t\t\t</div>)\n\t\t}\n\t}\n}\n"]}