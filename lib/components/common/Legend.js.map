{"version":3,"sources":["../../../src/components/common/Legend.js"],"names":["d3","Legend","render","props","textStyle","legendItems","data","forEach","series","idx","itemStyle","colors","colorAccessor","push","itemClassName","name","topMargin","margins","top","legendBlockStyle","width","className","defaultProps","scaleOrdinal","schemeCategory20c","d","text"],"mappings":";;;;;;AAAA;;AACA;;IAAYA,E;;;;;;;;;;IAGNC,M;;;;;;;;;kBAQLC,M,qBAAS;AACR,MAAIC,QAAQ,KAAKA,KAAjB;;AAEA,MAAIC,YAAY;AACf,YAAS,OADM;AAEf,eAAY,KAFG;AAGf,oBAAiB;AAHF,GAAhB;;AAMA,MAAIC,cAAc,EAAlB;;AAEAF,QAAMG,IAAN,CAAWC,OAAX,CAAmB,UAACC,MAAD,EAASC,GAAT,EAAiB;AACnC,OAAIC,YAAY;AACf,aAASP,MAAMQ,MAAN,CAAaR,MAAMS,aAAN,CAAoBJ,MAApB,EAA4BC,GAA5B,CAAb,CADM;AAEf,kBAAc,KAFC;AAGf,gBAAY;AAHG,IAAhB;AAKAJ,eAAYQ,IAAZ,CACC;AAAA;AAAA;AACC,UAAKJ,GADN;AAEC,gBAAWN,MAAMW,aAFlB;AAGC,YAAOJ;AAHR;AAKC;AAAA;AAAA;AACC,aAAON;AADR;AAGEI,YAAOO;AAHT;AALD,IADD;AAcA,GApBD;;AAsBA,MAAIC,YAAYb,MAAMc,OAAN,CAAcC,GAA9B;;AAEA,MAAIC,mBAAmB;AACtB,eAAY,YADU;AAEtB,YAAShB,MAAMiB,KAFO;AAGtB,kBAAe,GAHO;AAItB,mBAAgB,GAJM;AAKtB,gBAAaJ,SALS;AAMtB,wBAAqB;AANC,GAAvB;;AASA,SACC;AAAA;AAAA;AACC,eAAWb,MAAMkB,SADlB;AAEC,WAAOF;AAFR;AAIEd;AAJF,GADD;AAQA,E;;;6BA3DMiB,Y,GAAe;AACrBD,YAAW,aADU;AAErBV,SAAQX,GAAGuB,YAAH,CAAgBvB,GAAGwB,iBAAnB,CAFa;AAGrBZ,gBAAe,uBAACa,CAAD,EAAIhB,GAAJ;AAAA,SAAYA,GAAZ;AAAA,EAHM;AAIrBK,gBAAe,kBAJM;AAKrBY,OAAM;AALe,C;kBA6DRzB,M","file":"Legend.js","sourcesContent":["import { h, Component } from 'preact'\nimport * as d3 from 'd3'\n\n\nclass Legend extends Component {\n\tstatic defaultProps = {\n\t\tclassName: 'rd3-Tooltip',\n\t\tcolors: d3.scaleOrdinal(d3.schemeCategory20c),\n\t\tcolorAccessor: (d, idx) => idx,\n\t\titemClassName: 'rd3-Tooltip-item',\n\t\ttext: '#000'\n\t}\n\trender() {\n\t\tlet props = this.props\n\n\t\tlet textStyle = {\n\t\t\t'color': 'black',\n\t\t\t'fontSize': '50%',\n\t\t\t'verticalAlign': 'top'\n\t\t}\n\n\t\tlet legendItems = []\n\n\t\tprops.data.forEach((series, idx) => {\n\t\t\tlet itemStyle = {\n\t\t\t\t'color': props.colors(props.colorAccessor(series, idx)),\n\t\t\t\t'lineHeight': '60%',\n\t\t\t\t'fontSize': '200%'\n\t\t\t}\n\t\t\tlegendItems.push(\n\t\t\t\t<li\n\t\t\t\t\tkey={idx}\n\t\t\t\t\tclassName={props.itemClassName}\n\t\t\t\t\tstyle={itemStyle}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={textStyle}\n\t\t\t\t\t>\n\t\t\t\t\t\t{series.name}\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t)\n\n\t\t})\n\n\t\tlet topMargin = props.margins.top\n\n\t\tlet legendBlockStyle = {\n\t\t\t'wordWrap': 'break-word',\n\t\t\t'width': props.width,\n\t\t\t'paddingLeft': '0',\n\t\t\t'marginBottom': '0',\n\t\t\t'marginTop': topMargin,\n\t\t\t'listStylePosition': 'inside'\n\t\t}\n\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tclassName={props.className}\n\t\t\t\tstyle={legendBlockStyle}\n\t\t\t>\n\t\t\t\t{legendItems}\n\t\t\t</ul>\n\t\t)\n\t}\n}\nexport default Legend\n"]}